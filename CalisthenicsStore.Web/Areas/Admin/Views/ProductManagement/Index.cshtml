@using Microsoft.AspNetCore.Mvc.TagHelpers
@using CalisthenicsStore.ViewModels.Admin.ProductManagement;
@model IEnumerable<ProductManagementIndexViewModel>

@{
	ViewData["Title"] = "Exercise Management";
}

<link rel="stylesheet" href="~/css/exercise-management.css" />

<div class="exercise-management-container">
	<div class="exercise-header">
		<h1 class="title">Product Management</h1>
		<a asp-area="Admin" asp-action="Create" class="add-btn">+ Add Product</a>
	</div>

	<table class="exercise-table">
		<thead>
		<tr>
			<th>Name</th>
			<th>Price</th>
			<th>Quantity</th>
			<th>Category</th>
			<th>Is Deleted</th>
			<th>Actions</th>
		</tr>
		</thead>
		<tbody>
		@foreach (var product in Model)
		{
			<tr>
				<td>@product.Name</td>
				<td>@product.Price BGN.</td>
				<td>@product.StockQuantity</td>
				<td>@product.CategoryName</td>

				<td>
					@if (product.IsDeleted)
					{
						<span class="badge deleted">Deleted</span>
					}
					else
					{
						<span class="badge active">Active</span>
					}
				</td>
				<td class="action-buttons">
					<a asp-area="Admin" asp-action="Edit" asp-route-id="@product.Id" class="btn yellow-btn">Edit</a>

					@if (product.IsDeleted)
					{
						<form asp-area="Admin" asp-controller="ProductManagement" asp-action="DeleteOrRestore" method="post" asp-route-id="@product.Id" class="inline-form">
							<button type="submit" class="btn green-btn">Restore</button>
						</form>
					}
					else
					{
						<form asp-area="Admin" asp-controller="ProductManagement" asp-action="DeleteOrRestore" method="post" asp-route-id="@product.Id" class="inline-form">
							<button type="submit" class="btn red-btn">Delete</button>
						</form>
					}
				</td>
			</tr>
		}
		</tbody>
	</table>

	<a asp-area="Admin" asp-controller="Home" asp-action="Index" class="btn gray-btn">Go Back</a>
</div>