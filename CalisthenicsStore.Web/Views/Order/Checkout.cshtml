@using Microsoft.AspNetCore.Mvc.TagHelpers
@model CalisthenicsStore.ViewModels.Order.CheckoutViewModel

@{
    ViewData["Title"] = "Checkout";
}

<section class="checkout-section">
    <div class="container">
        <h1 class="text-3xl font-semibold mb-6">Finish Order</h1>

        <!-- Преглед на количката -->
        <div class="cart-summary bg-gray-800 text-white p-6 rounded-2xl shadow-md mb-8">
            <h2 class="text-2xl font-semibold mb-4">Your Cart</h2>
            <ul class="space-y-4">
                @foreach (var item in Model.CartItems)
                {
                    <li class="flex justify-between border-b border-gray-600 pb-2">
                        <span>@item.ProductName (x@item.Quantity)</span>
                        <span>@item.Price.ToString("C")</span>
                    </li>
                }
            </ul>
            <div class="mt-6 text-right text-xl font-bold">
                Total: @Model.TotalPrice.ToString("C")
            </div>
        </div>

        <!-- Форма за данни за доставка -->
        <form asp-action="Checkout" method="post" class="bg-gray-900 text-white p-6 rounded-2xl shadow-md">
            <h2 class="text-2xl font-semibold mb-4">Order Info</h2>
			
            <div class="mb-4">
	            <label asp-for="CustomerName" class="block mb-1 font-medium">Пощенски код</label>
	            <input asp-for="CustomerName" class="w-full p-2 rounded bg-gray-700 text-white" required />
	            <span asp-validation-for="CustomerName" class="text-red-400 text-sm"></span>
            </div>

            <div class="mb-4">
                <label asp-for="City" class="block mb-1 font-medium">Адрес</label>
                <input asp-for="City" class="w-full p-2 rounded bg-gray-700 text-white" required />
                <span asp-validation-for="City" class="text-red-400 text-sm"></span>
            </div>

            <div class="mb-4">
                <label asp-for="Address" class="block mb-1 font-medium">Град</label>
                <input asp-for="Address" class="w-full p-2 rounded bg-gray-700 text-white" required />
                <span asp-validation-for="Address" class="text-red-400 text-sm"></span>
            </div>

            <button type="submit" class="bg-green-600 hover:bg-green-500 text-white px-6 py-2 rounded-xl mt-4">
                Confirm Order
            </button>
        </form>
    </div>
</section>
